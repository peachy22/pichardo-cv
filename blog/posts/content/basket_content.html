<div style="display: flex; justify-content: center; align-items: flex-start; margin-top: 20px;">
  <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj7qmIZ-Me03a3z1Av4VfingG5RNHrze4GJ5a-gEbX_Jfcs8lkUM2RLdr_HGjFOI3oEpLHBTKwFWg9sOoC5tjBuwKfIqDBDOr4HbYy4TvMfIzTxDzLjw8ytFCeOdHhhBX0882a282dA3hHBv4_59V0DF_IOAdoXMo4bqMiaz5b--sra57C8jaJjPYKM/s1024/craiyon_100102_analysis_of_shopping_cart_trends_for_data_driven_decision_making.png">
    <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj7qmIZ-Me03a3z1Av4VfingG5RNHrze4GJ5a-gEbX_Jfcs8lkUM2RLdr_HGjFOI3oEpLHBTKwFWg9sOoC5tjBuwKfIqDBDOr4HbYy4TvMfIzTxDzLjw8ytFCeOdHhhBX0882a282dA3hHBv4_59V0DF_IOAdoXMo4bqMiaz5b--sra57C8jaJjPYKM/w741-h497/craiyon_100102_analysis_of_shopping_cart_trends_for_data_driven_decision_making.png" alt="Market Basket Analysis" style="max-width: 100%; height: auto;" />
  </a>
</div>
    <h1 style="text-align: left;"></h1><h1 style="text-align: left;"></h1><h1 style="text-align: left;"></h1><h1 style="text-align: left;"></h1><h1 style="text-align: left;"></h1><h1 style="text-align: left;"><br /></h1><h1 style="text-align: left;"></h1><h1 style="text-align: left;"></h1><h1 style="text-align: left;"></h1><h1 style="text-align: left;"></h1><h1 style="text-align: left;">Context</h1><p><b>Market Basket Analysis</b>&nbsp;is a technique used in data mining and analytics to identify patterns of co-occurrence among items purchased by customers. It aims to uncover associations or relationships between products that are frequently bought together in a transaction or shopping basket. We need transactional data for a project like this, such as point-of-sale records or online purchase histories, where each transaction consists of a list of items purchased by a customer. <b>The goal is to determine which items tend to be bought together and understand the underlying associations between them.</b></p><p>In this article I'm studying a dataset which gives transaction history for 2 years at a small telecommunications equipment store, determining with the appropriate algorithms what sets of items can be reported to the executive staff as being strongly related. By related, we mean that the goal is to identify rules such as, “if a customer buys a ‘Razer Wireless Gaming Mouse Venom Green Edition’, then they are likely also to buy a ‘Logitech High-Performance Mouse Pad with Wireless Charging and 40,000 Color RGB Light Strip w/ Anime Girl Design’”. Pre-processing of the data will also be discussed as we begin the project using the R programming language.</p><h1 style="text-align: left;">Apriori Association Mining</h1><p>The market basket technique first involves transforming the data from whatever form into a formal transaction register so that the associated packages can search it for patterns in buying habits. If it happens often that a customer purchasing the set of items on the “left” side of a certain relation implies they also bought the item on the “right” side, we want to quantify the strength of that relation. For example,</p><p>{NVIDIA GTX 1090, ROC 32” Gaming Monitor} =&gt; {Shadow of the Tomb Raider}</p><p>is a hypothetical pattern in which a very graphically demanding game is purchased along with two high-end PC gaming-related items. The <i>Apriori</i> <i>algorithm</i>&nbsp;can quantify important metrics related to transactions that included these items. One is <b>support</b>, which is a measure of how often this set of items actually occurred. Another is <b>confidence</b>, which is how likely Tomb Raider’s appearance is in sets containing the graphics card and monitor. Another is <b>Lift</b>, which is a measure of how much the confidence for this rule exceeds expectations. We can decide on what thresholds are appropriate using analysis and visualization, and then make recommendations for targeted marketing based on the results.¹</p><h1 style="text-align: left;">Data Preparation</h1><div>This dataset was proprietary to my graduate school and as such a public link to the source is not available.&nbsp;</div><div><br /></div><pre class="r" style="background-color: whitesmoke; border-radius: 4px; border: 1px solid rgb(204, 204, 204); box-sizing: border-box; caret-color: rgb(51, 51, 51); color: #333333; font-size: 13px; line-height: 1.42857; margin-bottom: 10px; margin-top: 0px; overflow-wrap: break-word; overflow: auto; padding: 9.5px; word-break: break-all;"><code class="hljs" style="border-radius: 0px; box-sizing: border-box; font-size: inherit; padding: 0px; white-space: pre-wrap;"><span class="hljs-comment" style="box-sizing: border-box; color: #999988; font-style: italic;">#import dataset</span>
data &lt;- read.csv(<span class="hljs-string" style="box-sizing: border-box; color: #dd1144;">"*/teleco_market_basket.csv"</span>,na.strings=c(<span class="hljs-string" style="box-sizing: border-box; color: #dd1144;">""</span>,<span class="hljs-string" style="box-sizing: border-box; color: #dd1144;">" "</span>),sep = <span class="hljs-string" style="box-sizing: border-box; color: #dd1144;">','</span>)
<span class="hljs-comment" style="box-sizing: border-box; color: #999988; font-style: italic;">#investigate structure</span>
str(data)</code></pre><pre style="background-color: white; border-radius: 4px; border: 1px solid rgb(204, 204, 204); box-sizing: border-box; caret-color: rgb(51, 51, 51); color: #333333; font-size: 13px; line-height: 1.42857; margin-bottom: 10px; margin-top: 0px; overflow-wrap: break-word; overflow: auto; padding: 9.5px; word-break: break-all;"><code class="hljs" style="border-radius: 0px; box-sizing: border-box; font-size: inherit; padding: 0px; white-space: pre-wrap;">## 'data.frame':    15002 obs. of  20 variables:
##  $ Item01: chr  NA "Logitech M510 Wireless mouse" NA "Apple Lightning to Digital AV Adapter" ...
##  $ Item02: chr  NA "HP 63 Ink" NA "TP-Link AC1750 Smart WiFi Router" ...
##  $ Item03: chr  NA "HP 65 ink" NA "Apple Pencil" ...
##  $ Item04: chr  NA "nonda USB C to USB Adapter" NA NA ...
##  $ Item05: chr  NA "10ft iPHone Charger Cable" NA NA ...
##  $ Item06: chr  NA "HP 902XL ink" NA NA ...
##  $ Item07: chr  NA "Creative Pebble 2.0 Speakers" NA NA ...
##  $ Item08: chr  NA "Cleaning Gel Universal Dust Cleaner" NA NA ...
##  $ Item09: chr  NA "Micro Center 32GB Memory card" NA NA ...
##  $ Item10: chr  NA "YUNSONG 3pack 6ft Nylon Lightning Cable" NA NA ...
##  $ Item11: chr  NA "TopMate C5 Laptop Cooler pad" NA NA ...
##  $ Item12: chr  NA "Apple USB-C Charger cable" NA NA ...
##  $ Item13: chr  NA "HyperX Cloud Stinger Headset" NA NA ...
##  $ Item14: chr  NA "TONOR USB Gaming Microphone" NA NA ...
##  $ Item15: chr  NA "Dust-Off Compressed Gas 2 pack" NA NA ...
##  $ Item16: chr  NA "3A USB Type C Cable 3 pack 6FT" NA NA ...
##  $ Item17: chr  NA "HOVAMP iPhone charger" NA NA ...
##  $ Item18: chr  NA "SanDisk Ultra 128GB card" NA NA ...
##  $ Item19: chr  NA "FEEL2NICE 5 pack 10ft Lighning cable" NA NA ...
##  $ Item20: chr  NA "FEIYOLD Blue light Blocking Glasses" NA NA ...</code></pre><p>15002 records are present. It would appear that the raw data is formatted in such a way that up to 20 items may be recorded in a transaction, with each of the items forming a column and any transactions with less than 20 items recording blank space for the missing ones. It is also apparent that every other column is blank. We need to format the data in a particular way in order to code it as an apriori transaction database.</p><pre class="r" style="background-color: whitesmoke; border-radius: 4px; border: 1px solid rgb(204, 204, 204); box-sizing: border-box; caret-color: rgb(51, 51, 51); color: #333333; font-size: 13px; line-height: 1.42857; margin-bottom: 10px; margin-top: 0px; overflow-wrap: break-word; overflow: auto; padding: 9.5px; word-break: break-all;"><code class="hljs" style="border-radius: 0px; box-sizing: border-box; font-size: inherit; padding: 0px; white-space: pre-wrap;"><span class="hljs-comment" style="box-sizing: border-box; color: #999988; font-style: italic;">#delete blank rows</span>
data &lt;- data[seq(<span class="hljs-number" style="box-sizing: border-box; color: #009999;">2</span>, nrow(data), <span class="hljs-number" style="box-sizing: border-box; color: #009999;">2</span>),]
<span class="hljs-comment" style="box-sizing: border-box; color: #999988; font-style: italic;">#create two-column dataframe with items attached to each transaction</span>
t &lt;- data.frame(tid=rep(<span class="hljs-number" style="box-sizing: border-box; color: #009999;">1</span>:nrow(data),<span class="hljs-number" style="box-sizing: border-box; color: #009999;">20</span>))
t$item &lt;- unlist(data)
t &lt;- na.omit(t)[order(na.omit(t)$tid),]
<span class="hljs-comment" style="box-sizing: border-box; color: #999988; font-style: italic;">#send dataframe file</span>
write.csv(t,<span class="hljs-string" style="box-sizing: border-box; color: #dd1144;">"*/transaction_frame.csv"</span>)</code></pre><p>The set is now prepared for the creation of a transaction register with the help of the&nbsp;<i>arules</i> package. Along with this, the accompanying <i>arulesViz</i> package is loaded for later analysis.</p><pre class="r" style="background-color: whitesmoke; border-radius: 4px; border: 1px solid rgb(204, 204, 204); box-sizing: border-box; caret-color: rgb(51, 51, 51); color: #333333; font-size: 13px; line-height: 1.42857; margin-bottom: 10px; margin-top: 0px; overflow-wrap: break-word; overflow: auto; padding: 9.5px; word-break: break-all;"><code class="hljs" style="border-radius: 0px; box-sizing: border-box; font-size: inherit; padding: 0px; white-space: pre-wrap;"><span class="hljs-comment" style="box-sizing: border-box; color: #999988; font-style: italic;">#load package</span>
suppressMessages(<span class="hljs-keyword" style="box-sizing: border-box; color: #990000; font-weight: bold;">library</span>(arules))
suppressMessages(<span class="hljs-keyword" style="box-sizing: border-box; color: #990000; font-weight: bold;">library</span>(arulesViz))
<span class="hljs-comment" style="box-sizing: border-box; color: #999988; font-style: italic;">#create transaction object</span>
t_list &lt;- split(t$item,t$tid)
trx &lt;- as(t_list,<span class="hljs-string" style="box-sizing: border-box; color: #dd1144;">"transactions"</span>)</code></pre><pre style="background-color: white; border-radius: 4px; border: 1px solid rgb(204, 204, 204); box-sizing: border-box; caret-color: rgb(51, 51, 51); color: #333333; font-size: 13px; line-height: 1.42857; margin-bottom: 10px; margin-top: 0px; overflow-wrap: break-word; overflow: auto; padding: 9.5px; word-break: break-all;"><code class="hljs" style="border-radius: 0px; box-sizing: border-box; font-size: inherit; padding: 0px; white-space: pre-wrap;">## Warning in asMethod(object): removing duplicated items in transactions</code></pre><pre class="r" style="background-color: whitesmoke; border-radius: 4px; border: 1px solid rgb(204, 204, 204); box-sizing: border-box; caret-color: rgb(51, 51, 51); color: #333333; font-size: 13px; line-height: 1.42857; margin-bottom: 10px; margin-top: 0px; overflow-wrap: break-word; overflow: auto; padding: 9.5px; word-break: break-all;"><code class="hljs" style="border-radius: 0px; box-sizing: border-box; font-size: inherit; padding: 0px; white-space: pre-wrap;"><span class="hljs-comment" style="box-sizing: border-box; color: #999988; font-style: italic;">#verify second transaction from B2</span>
inspect(trx[<span class="hljs-number" style="box-sizing: border-box; color: #009999;">2</span>])</code></pre><pre style="background-color: white; border-radius: 4px; border: 1px solid rgb(204, 204, 204); box-sizing: border-box; caret-color: rgb(51, 51, 51); color: #333333; font-size: 13px; line-height: 1.42857; margin-bottom: 10px; margin-top: 0px; overflow-wrap: break-word; overflow: auto; padding: 9.5px; word-break: break-all;"><code class="hljs" style="border-radius: 0px; box-sizing: border-box; font-size: inherit; padding: 0px; white-space: pre-wrap;">##     items                                    transactionID
## [1] {Apple Lightning to Digital AV Adapter,               
##      Apple Pencil,                                        
##      TP-Link AC1750 Smart WiFi Router}                   2</code></pre><p>With the last command, it's evident by comparison to the original dataframe that the integrity of transactions has been maintained in this transformation.</p><h1 style="text-align: left;">Analysis</h1><div><p>Apriori is employed here with two parameters set in advance, though there are methods to programmatically search for optimal values:&nbsp;<b>minimum support threshold</b>&nbsp;and&nbsp;<b>minimum confidence threshold</b>. These control the number and quality of rules, or patterns, that we can use as insights on shopping behavior. Naturally, it isn't ideal to have many rules that cannot be trusted nor to have a much smaller number of dependable shopping patterns than the size of our enterprise data should allow. There aren't established rules concerning what these parameters should be, but below I'll present an entry-level thought process.&nbsp;</p><p>Consider the top 100 most frequent single items purchases:</p><pre class="r" style="background-color: whitesmoke; border-radius: 4px; border: 1px solid rgb(204, 204, 204); box-sizing: border-box; caret-color: rgb(51, 51, 51); font-size: 13px; line-height: 1.42857; margin-bottom: 10px; margin-top: 0px; overflow-wrap: break-word; overflow: auto; padding: 9.5px; word-break: break-all;"><code class="hljs" style="border-radius: 0px; box-sizing: border-box; font-size: inherit; padding: 0px; white-space: pre-wrap;"><span class="hljs-comment" style="box-sizing: border-box; color: #999988; font-style: italic;">#view top items</span><span style="color: #333333;">
itemFrequencyPlot(trx,topN=</span><span style="color: #009999;">100</span><span style="color: #333333;">)</span></code></pre><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj7YpJSliUr7wULh-DkAAFeVwwt9N2NbPmP3ug_Cta20yWbmJaC2QkuSn7FujI3HsuwvLqozFnoC-gkiIMUeLa7MvuK_RMfEDK6hKKQv-l0gOr8wWiNLpBCok6wtCm4u3gVvT12bbN_Be3qh5wvIxfZlkM6csELB-quvu8-S8mopnTo2g9D4wjdJJ1s/s919/Screenshot%202023-05-29%20at%204.29.30%20PM.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="494" data-original-width="919" height="406" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj7YpJSliUr7wULh-DkAAFeVwwt9N2NbPmP3ug_Cta20yWbmJaC2QkuSn7FujI3HsuwvLqozFnoC-gkiIMUeLa7MvuK_RMfEDK6hKKQv-l0gOr8wWiNLpBCok6wtCm4u3gVvT12bbN_Be3qh5wvIxfZlkM6csELB-quvu8-S8mopnTo2g9D4wjdJJ1s/w640-h406/Screenshot%202023-05-29%20at%204.29.30%20PM.png" width="640" /></a></div><p>The most frequent item occurs in about 25% of the transactions. By definition then, any rule which involves that item will not appear if the minimum support threshold is set above 0.25. To capture a wide variety of possible antecedent-consequent rules, we can opt to start the algorithm with a minimum support of 0.005. Much higher given the relatively small size of this dataset, and there won't be many rules to choose from. With this is mind, we can be more quantitative in our selection of minimum confidence. The following is an evaluation of the model behavior for different confidences, assuming the support is fixed:</p><pre class="r" style="background-color: whitesmoke; border-radius: 4px; border: 1px solid rgb(204, 204, 204); box-sizing: border-box; caret-color: rgb(51, 51, 51); color: #333333; font-size: 13px; line-height: 1.42857; margin-bottom: 10px; margin-top: 0px; overflow-wrap: break-word; overflow: auto; padding: 9.5px; word-break: break-all;"><code class="hljs" style="border-radius: 0px; box-sizing: border-box; font-size: inherit; padding: 0px; white-space: pre-wrap;">confidenceLevels = seq(from=<span class="hljs-number" style="box-sizing: border-box; color: #009999;">0.1</span>, to=<span class="hljs-number" style="box-sizing: border-box; color: #009999;">0.9</span>, by =<span class="hljs-number" style="box-sizing: border-box; color: #009999;">0.1</span>)
rules_sup0005 =<span class="hljs-literal" style="box-sizing: border-box; color: #990073;">NULL</span>
<span class="hljs-keyword" style="box-sizing: border-box; color: #990000; font-weight: bold;">for</span>(i <span class="hljs-keyword" style="box-sizing: border-box; color: #990000; font-weight: bold;">in</span> <span class="hljs-number" style="box-sizing: border-box; color: #009999;">1</span>:length(confidenceLevels)) {  
  rules_sup0005[i]=
    length(apriori(trx,control=list(verbose = <span class="hljs-literal" style="box-sizing: border-box; color: #990073;">FALSE</span>),                   
                   parameter=list(supp=<span class="hljs-number" style="box-sizing: border-box; color: #009999;">0.005</span>,                                  
                                  conf=confidenceLevels[i],                                  
                                  target=<span class="hljs-string" style="box-sizing: border-box; color: #dd1144;">"rules"</span>)))}
<span class="hljs-keyword" style="box-sizing: border-box; color: #990000; font-weight: bold;">library</span>(ggplot2)
qplot(confidenceLevels, rules_sup0005,geom=c(<span class="hljs-string" style="box-sizing: border-box; color: #dd1144;">"point"</span>,<span class="hljs-string" style="box-sizing: border-box; color: #dd1144;">"line"</span>),xlab=<span class="hljs-string" style="box-sizing: border-box; color: #dd1144;">"Confidence level"</span>,ylab=<span class="hljs-string" style="box-sizing: border-box; color: #dd1144;">"Number of Rules"</span>)+theme_bw()</code></pre><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgVOlETUdm7edBldNrxcEB-QLyOwGfpErOdunJEJMZ838i4wYTzrODgGXLOsPC9MCxXoST79MGuQBZsLhJtv1-UIJjfJz9LWQjX4svEeaf4-ht-Opr1cZt5Jfca_vLcPtjY4R30hF-JjV6ZPXgVc7N1j83sY8hBDySFm8i_AZcuL9vMvJL5GC_Q5FNd/s976/Screenshot%202023-05-29%20at%204.33.16%20PM.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="567" data-original-width="976" height="372" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgVOlETUdm7edBldNrxcEB-QLyOwGfpErOdunJEJMZ838i4wYTzrODgGXLOsPC9MCxXoST79MGuQBZsLhJtv1-UIJjfJz9LWQjX4svEeaf4-ht-Opr1cZt5Jfca_vLcPtjY4R30hF-JjV6ZPXgVc7N1j83sY8hBDySFm8i_AZcuL9vMvJL5GC_Q5FNd/w640-h372/Screenshot%202023-05-29%20at%204.33.16%20PM.png" width="640" /></a></div><p style="text-align: left;"><span style="background-color: white; caret-color: rgb(51, 51, 51); color: #333333;"><span style="font-family: times;">This reveals that There are no rules available with confidence greater than 0.5, and that selecting this as the confidence threshold should result in a fairly compact but useful set of rules with a confidence of 0.5 or greater.</span></span></p></div><div><pre class="r" style="background-color: whitesmoke; border-radius: 4px; border: 1px solid rgb(204, 204, 204); box-sizing: border-box; caret-color: rgb(51, 51, 51); color: #333333; font-size: 13px; line-height: 1.42857; margin-bottom: 10px; margin-top: 0px; overflow-wrap: break-word; overflow: auto; padding: 9.5px; word-break: break-all;"><code class="hljs" style="border-radius: 0px; box-sizing: border-box; font-size: inherit; padding: 0px; white-space: pre-wrap;"><span class="hljs-comment" style="box-sizing: border-box; color: #999988; font-style: italic;">#create rules with apriori</span>
rules &lt;- apriori(trx,parameter=list(supp=<span class="hljs-number" style="box-sizing: border-box; color: #009999;">0.005</span>,conf=<span class="hljs-number" style="box-sizing: border-box; color: #009999;">0.5</span>),control=list(verbose = <span class="hljs-literal" style="box-sizing: border-box; color: #990073;">FALSE</span>))</code></pre></div><h1 style="text-align: left;">Findings</h1><div><pre class="r" style="background-color: whitesmoke; border-radius: 4px; border: 1px solid rgb(204, 204, 204); box-sizing: border-box; caret-color: rgb(51, 51, 51); color: #333333; font-size: 13px; line-height: 1.42857; margin-bottom: 10px; margin-top: 0px; overflow-wrap: break-word; overflow: auto; padding: 9.5px; word-break: break-all;"><code class="hljs" style="border-radius: 0px; box-sizing: border-box; font-size: inherit; padding: 0px; white-space: pre-wrap;">summary(rules)</code></pre></div><div><pre style="background-color: white; border-radius: 4px; border: 1px solid rgb(204, 204, 204); box-sizing: border-box; caret-color: rgb(51, 51, 51); color: #333333; font-size: 13px; line-height: 1.42857; margin-bottom: 10px; margin-top: 0px; overflow-wrap: break-word; overflow: auto; padding: 9.5px; word-break: break-all;"><code class="hljs" style="border-radius: 0px; box-sizing: border-box; font-size: inherit; padding: 0px; white-space: pre-wrap;">## set of 20 rules
## 
## rule length distribution (lhs + rhs):sizes
##  3 
## 20 
## 
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##       3       3       3       3       3       3 
## 
## summary of quality measures:
##     support           confidence        coverage             lift      
##  Min.   :0.005066   Min.   :0.5000   Min.   :0.007999   Min.   :2.098  
##  1st Qu.:0.005933   1st Qu.:0.5065   1st Qu.:0.011332   1st Qu.:2.148  
##  Median :0.007132   Median :0.5219   Median :0.013865   Median :2.275  
##  Mean   :0.007272   Mean   :0.5336   Mean   :0.013771   Mean   :2.358  
##  3rd Qu.:0.008532   3rd Qu.:0.5472   3rd Qu.:0.016531   3rd Qu.:2.424  
##  Max.   :0.011065   Max.   :0.6333   Max.   :0.021997   Max.   :3.005  
##      count      
##  Min.   :38.00  
##  1st Qu.:44.50  
##  Median :53.50  
##  Mean   :54.55  
##  3rd Qu.:64.00  
##  Max.   :83.00  
## 
## mining info:
##  data ntransactions support confidence
##   trx          7501   0.005        0.5
##                                                                                              call
##  apriori(data = trx, parameter = list(supp = 0.005, conf = 0.5), control = list(verbose = FALSE))</code></pre></div><p style="text-align: left;"><span style="background-color: white; caret-color: rgb(51, 51, 51); color: #333333;"><span style="font-family: times;">What the summary table reveals is that with a confidence level of 0.5 and minimum support of 0.005, 20 rules have been discovered. The mean support, lift, and confidence of all rules is 0.5336, 0.0137, and 2.358. The highest support is 0.0111, the highest confidence is 0.6333, and the highest lift is 3.0050. It may be of interest to view the top rules that apriori has found:</span></span></p><div><pre class="r" style="background-color: whitesmoke; border-radius: 4px; border: 1px solid rgb(204, 204, 204); box-sizing: border-box; caret-color: rgb(51, 51, 51); color: #333333; font-size: 13px; line-height: 1.42857; margin-bottom: 10px; margin-top: 0px; overflow-wrap: break-word; overflow: auto; padding: 9.5px; word-break: break-all;"><code class="hljs" style="border-radius: 0px; box-sizing: border-box; font-size: inherit; padding: 0px; white-space: pre-wrap;">DATAFRAME(rules[<span class="hljs-number" style="box-sizing: border-box; color: #009999;">1</span>:<span class="hljs-number" style="box-sizing: border-box; color: #009999;">3</span>])</code></pre></div><div><pre style="background-color: white; border-radius: 4px; border: 1px solid rgb(204, 204, 204); box-sizing: border-box; caret-color: rgb(51, 51, 51); color: #333333; font-size: 13px; line-height: 1.42857; margin-bottom: 10px; margin-top: 0px; overflow-wrap: break-word; overflow: auto; padding: 9.5px; word-break: break-all;"><code class="hljs" style="border-radius: 0px; box-sizing: border-box; font-size: inherit; padding: 0px; white-space: pre-wrap;">##                                                                       LHS
## 1       {3A USB Type C Cable 3 pack 6FT,VIVO Dual LCD Monitor Desk mount}
## 2  {10ft iPHone Charger Cable 2 Pack,FEIYOLD Blue light Blocking Glasses}
## 3 {10ft iPHone Charger Cable 2 Pack,Nylon Braided Lightning to USB cable}
##                                RHS     support confidence    coverage     lift
## 1 {Dust-Off Compressed Gas 2 pack} 0.006799093  0.5049505 0.013464871 2.118363
## 2 {Dust-Off Compressed Gas 2 pack} 0.005199307  0.5820896 0.008932142 2.441976
## 3 {Dust-Off Compressed Gas 2 pack} 0.005065991  0.6333333 0.007998933 2.656954
##   count
## 1    51
## 2    39
## 3    38</code></pre></div><p style="text-align: left;"><span style="font-family: times;"><span style="background-color: white; caret-color: rgb(51, 51, 51); color: #333333;">Although the item names are very long, we can tell that all the top rules have the Dust-Off Compressed Gas product as a consequent.&nbsp;</span><span style="background-color: white; caret-color: rgb(51, 51, 51); color: #333333;">The individual rules are not very strong according to the critical metrics, and the small size and scope of this data is partially to blame. But, there is a clear pattern in that nearly every single rule has the air duster product on the right hand side. Is this an expected result? This visualization shows the rules converging on this product:</span></span></p><div><pre class="r" style="background-color: whitesmoke; border-radius: 4px; border: 1px solid rgb(204, 204, 204); box-sizing: border-box; caret-color: rgb(51, 51, 51); color: #333333; font-size: 13px; line-height: 1.42857; margin-bottom: 10px; margin-top: 0px; overflow-wrap: break-word; overflow: auto; padding: 9.5px; word-break: break-all;"><code class="hljs" style="border-radius: 0px; box-sizing: border-box; font-size: inherit; padding: 0px; white-space: pre-wrap;"><span class="hljs-comment" style="box-sizing: border-box; color: #999988; font-style: italic;">#plot rules</span>
plot(rules,method=<span class="hljs-string" style="box-sizing: border-box; color: #dd1144;">"graph"</span>)</code></pre><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhUSMYPY3UJKBNLHRPYUPbItY29km51GCPp6BAKAfJju1YTBRZPTVWyVUsNC7al9MMvF7e4mAdej6v2bKPtSbQYnrhDHmGlEKkl7Hx73Jz__l5Zcw9eBE6DfUf7DVfi4QOOO12vtMRMigrLCSSXFe0luOMiu1iuPkgW0UJe_JHA1URZ8M4JwUo0yEy4/s947/Screenshot%202023-05-29%20at%204.40.08%20PM.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="521" data-original-width="947" height="352" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhUSMYPY3UJKBNLHRPYUPbItY29km51GCPp6BAKAfJju1YTBRZPTVWyVUsNC7al9MMvF7e4mAdej6v2bKPtSbQYnrhDHmGlEKkl7Hx73Jz__l5Zcw9eBE6DfUf7DVfi4QOOO12vtMRMigrLCSSXFe0luOMiu1iuPkgW0UJe_JHA1URZ8M4JwUo0yEy4/w640-h352/Screenshot%202023-05-29%20at%204.40.08%20PM.png" width="640" /></a></div><pre class="r" style="background-color: whitesmoke; border-radius: 4px; border: 1px solid rgb(204, 204, 204); box-sizing: border-box; caret-color: rgb(51, 51, 51); color: #333333; font-size: 13px; line-height: 1.42857; margin-bottom: 10px; margin-top: 0px; overflow-wrap: break-word; overflow: auto; padding: 9.5px; word-break: break-all;"><code class="hljs" style="border-radius: 0px; box-sizing: border-box; font-size: inherit; padding: 0px; white-space: pre-wrap;"><span class="hljs-comment" style="box-sizing: border-box; color: #999988; font-style: italic;">#view top items with names (unfortunately we cannot control their rotation)</span>
itemFrequencyPlot(trx,topN=<span class="hljs-number" style="box-sizing: border-box; color: #009999;">10</span>)</code></pre><div class="separator" style="clear: both; text-align: center;"><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj2kkCIU6b8Z5hz26qG71C_lNbdJ0tHu6b9hr2FxMhGjVb8B7E354CxgXWZxIBfNhrWr4Vtsw7za4gqy-84G0od13k1fp023GnRltl_FuVk5FmhPW5SnUzT8PK5FKtMzrXmLVePuSbFeLMtmCvNOIhFRpDFqiXAkdyIZBcqYN2dF66ZNt4ucN4ngB8E/s874/Screenshot%202023-05-29%20at%204.42.45%20PM.png" style="margin-left: 1em; margin-right: 1em;"><img border="0" data-original-height="522" data-original-width="874" height="382" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj2kkCIU6b8Z5hz26qG71C_lNbdJ0tHu6b9hr2FxMhGjVb8B7E354CxgXWZxIBfNhrWr4Vtsw7za4gqy-84G0od13k1fp023GnRltl_FuVk5FmhPW5SnUzT8PK5FKtMzrXmLVePuSbFeLMtmCvNOIhFRpDFqiXAkdyIZBcqYN2dF66ZNt4ucN4ngB8E/w640-h382/Screenshot%202023-05-29%20at%204.42.45%20PM.png" width="640" /></a></div><br /><p><span style="background-color: white; caret-color: rgb(51, 51, 51); color: #333333;"><span style="font-family: times;">Yes, we expect this result since the Compressed Gas 2-pack is indeed the highest-selling item by a fair margin. Additionally, it is an item of particular use an an accessory to electronic equipment.&nbsp;</span></span><span style="font-family: times;"><span style="caret-color: rgb(51, 51, 51); color: #333333;">One conclusion then, is that the Compressed Gas 2-pack is a major upsell opportunity as it helps maintain expensive electronic equipment. Customers should be targeted with this product if they are purchasing electronics.&nbsp;</span><span style="caret-color: rgb(51, 51, 51); color: #333333;">Additional research with a greater scope of data would be the next step to investigate these patterns further.&nbsp;</span></span></p><h1 style="text-align: left;"><span style="font-family: times;"><span style="caret-color: rgb(51, 51, 51); color: #333333;">Sources</span></span></h1><p>¹<span style="text-indent: -1cm;">McColl, L. (2022, March 1).</span><span style="text-indent: -1cm;">&nbsp;</span><i style="text-indent: -1cm;">Market basket analysis: Understanding customer behaviour</i><span style="text-indent: -1cm;">. Select Statistical Consultants. https://select-statistics.co.uk/blog/market-basket-analysis-understanding-customer-behaviour/#:~:text=Rules%20with%20a%20high%20support,hand%20side%20(a%20rubber).</span><span style="text-indent: -1cm;">&nbsp;</span></p></div><br /><div class="separator" style="clear: both; text-align: center;"><br /></div><br />